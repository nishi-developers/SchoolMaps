import{_ as K,r as a,a as L,o as l,c as d,b as E,t as H,u as G,d as R,e as B,p as O,f as Q,g as o,h as U,i as ee,F as te,j as oe,k as ie}from"./index-BELs1EsC.js";const q={1:{"1A":{name:"1A",desc:"classroom"},"1B":{name:"1B",desc:"classroom"},"1C":{name:"1C",desc:"classroom"},"1D":{name:"1D",desc:"classroom"},"1E":{name:"1E",desc:"classroom"},"1F":{name:"1F",desc:"classroom"},"1G":{name:"1G",desc:"classroom"},"1H":{name:"1H",desc:"classroom"}}},W=r=>(O("data-v-c046e2e8"),r=r(),Q(),r),se={key:0,id:"PropertyView"},ne=W(()=>o("br",null,null,-1)),ae=W(()=>o("br",null,null,-1)),le={__name:"PropertyView",props:["Floor","PlaceId"],emits:["hideProperty"],setup(r,{emit:p}){const y=a(!0),n=r,h=p;function s(){h("hideProperty")}return(j,u)=>{const m=L("font-awesome-icon");return y.value?(l(),d("div",se,[E(" name : "+H(G(q)[n.Floor][n.PlaceId].name),1),ne,E(" description : "+H(G(q)[n.Floor][n.PlaceId].desc),1),ae,R(m,{id:"xmark",onClick:u[0]||(u[0]=k=>s()),icon:["fas","xmark"]})])):B("",!0)}}},re=K(le,[["__scopeId","data-v-c046e2e8"]]),ce={id:"map_content",draggable:"false"},de={key:0},pe={xmlns:"http://www.w3.org/2000/svg","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd",width:"210mm",height:"297mm",viewBox:"0 0 210 297",version:"1.1",id:"svg5","inkscape:version":"1.2.1 (9c6d41e410, 2022-07-14)","sodipodi:docname":"map.svg","inkscape:export-filename":"map-plane.svg","inkscape:export-xdpi":"96","inkscape:export-ydpi":"96"},he=oe('<defs id="defs2"><rect x="450.70526" y="863.36771" width="100.70789" height="71.483133" id="rect4228"></rect><rect x="450.70526" y="863.36774" width="100.70789" height="71.483131" id="rect4228-6"></rect><rect x="450.70526" y="863.36774" width="100.70789" height="71.483131" id="rect4228-7"></rect><rect x="450.70526" y="863.36774" width="100.70789" height="71.483131" id="rect4228-6-9"></rect><rect x="450.70526" y="863.36774" width="100.70789" height="71.483131" id="rect4228-72"></rect><rect x="450.70526" y="863.36774" width="100.70789" height="71.483131" id="rect4228-6-5"></rect><rect x="450.70526" y="863.36774" width="100.70789" height="71.483131" id="rect4228-7-1"></rect><rect x="450.70526" y="863.36774" width="100.70789" height="71.483131" id="rect4228-6-9-7"></rect></defs>',1),ue=o("g",{"inkscape:label":"none","inkscape:groupmode":"layer",id:"layer1"},[o("rect",{style:{fill:"#e6e6e6","fill-opacity":"1",stroke:"#b3b3b3","stroke-width":"1","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1","stop-color":"#000000"},id:"rect5948",width:"210",height:"297",x:"0",y:"0"}),o("rect",{style:{fill:"#b3b3b3","fill-opacity":"1",stroke:"#b3b3b3","stroke-width":"1","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1","stop-color":"#000000"},id:"rect234-1-0-0",width:"23.206863",height:"14.617966",x:"120.27374",y:"141.298"})],-1),fe=o("rect",{style:{fill:"#b3e4e5","fill-opacity":"1",stroke:"#000000","stroke-width":"1","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1","stop-color":"#000000"},id:"rect234-1-0-3",width:"23.206858",height:"25.95689",x:"120.27374",y:"33.470432"},null,-1),ye=o("text",{"xml:space":"preserve",transform:"matrix(0.26458333,0,0,0.26458333,7.7978913,-186.63517)",id:"text4226-6-3-6",style:{"font-size":"28px","line-height":"1.4","font-family":"'Noto Sans'","-inkscape-font-specification":"'Noto Sans'","text-decoration-color":"#000000","text-orientation":"upright","white-space":"pre","shape-inside":"url(#rect4228-6-9-7)",display:"inline",fill:"#000000","fill-opacity":"1","stroke-width":"7.55906","stroke-linejoin":"bevel","stop-color":"#000000"}},[o("tspan",{x:"450.70508",y:"890.94369",id:"tspan377"},"1A")],-1),me=[fe,ye],ke=o("rect",{style:{fill:"#b3e4e5","fill-opacity":"1",stroke:"#000000","stroke-width":"1","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1","stop-color":"#000000"},id:"rect234-16-1",width:"23.206858",height:"25.95689",x:"120.27374",y:"60.42733"},null,-1),ge=o("text",{"xml:space":"preserve",transform:"matrix(0.26458333,0,0,0.26458333,7.7978934,-159.67829)",id:"text4226-7-3",style:{"font-size":"28px","line-height":"1.4","font-family":"'Noto Sans'","-inkscape-font-specification":"'Noto Sans'","text-decoration-color":"#000000","text-orientation":"upright","white-space":"pre","shape-inside":"url(#rect4228-7-1)",display:"inline",fill:"#000000","fill-opacity":"1","stroke-width":"7.55906","stroke-linejoin":"bevel","stop-color":"#000000"}},[o("tspan",{x:"450.70508",y:"890.94369",id:"tspan379"},"1B")],-1),xe=[ke,ge],_e=o("rect",{style:{fill:"#b3e4e5","fill-opacity":"1",stroke:"#000000","stroke-width":"1","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1","stop-color":"#000000"},id:"rect234-1-5",width:"23.206858",height:"25.95689",x:"120.27374",y:"87.384224"},null,-1),we=o("text",{"xml:space":"preserve",transform:"matrix(0.26458333,0,0,0.26458333,7.7978894,-132.72139)",id:"text4226-6-0",style:{"font-size":"28px","line-height":"1.4","font-family":"'Noto Sans'","-inkscape-font-specification":"'Noto Sans'","text-decoration-color":"#000000","text-orientation":"upright","white-space":"pre","shape-inside":"url(#rect4228-6-5)",display:"inline",fill:"#000000","fill-opacity":"1","stroke-width":"7.55906","stroke-linejoin":"bevel","stop-color":"#000000"}},[o("tspan",{x:"450.70508",y:"890.94369",id:"tspan381"},"1C")],-1),ve=[_e,we],be=o("rect",{style:{fill:"#b3e4e5","fill-opacity":"1",stroke:"#000000","stroke-width":"1","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1","stop-color":"#000000"},id:"rect234-3",width:"23.206858",height:"25.95689",x:"120.27374",y:"114.34112"},null,-1),Se=o("text",{"xml:space":"preserve",transform:"matrix(0.26458333,0,0,0.26458333,7.7978913,-105.76451)",id:"text4226-70",style:{"font-size":"28px","line-height":"1.4","font-family":"'Noto Sans'","-inkscape-font-specification":"'Noto Sans'","text-decoration-color":"#000000","text-orientation":"upright","white-space":"pre","shape-inside":"url(#rect4228-72)",display:"inline",fill:"#000000","fill-opacity":"1","stroke-width":"7.55906","stroke-linejoin":"bevel","stop-color":"#000000"}},[o("tspan",{x:"450.70508",y:"890.94369",id:"tspan383"},"1D")],-1),Te=[be,Se],Ne=o("rect",{style:{fill:"#b3e4e5","fill-opacity":"1",stroke:"#000000","stroke-width":"1","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1","stop-color":"#000000"},id:"rect234-1-0",width:"23.206858",height:"25.95689",x:"120.27374",y:"156.91597"},null,-1),Pe=o("text",{"xml:space":"preserve",transform:"matrix(0.26458333,0,0,0.26458333,7.797891,-63.189633)",id:"text4226-6-3",style:{"font-size":"28px","line-height":"1.4","font-family":"'Noto Sans'","-inkscape-font-specification":"'Noto Sans'","text-decoration-color":"#000000","text-orientation":"upright","white-space":"pre","shape-inside":"url(#rect4228-6-9)",display:"inline",fill:"#000000","fill-opacity":"1","stroke-width":"7.55906","stroke-linejoin":"bevel","stop-color":"#000000"}},[o("tspan",{x:"450.70508",y:"890.94369",id:"tspan385"},"1E")],-1),Ce=[Ne,Pe],je=o("rect",{style:{fill:"#b3e4e5","fill-opacity":"1",stroke:"#000000","stroke-width":"1","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1","stop-color":"#000000"},id:"rect234-16",width:"23.206858",height:"25.95689",x:"120.27374",y:"183.87286"},null,-1),ze=o("text",{"xml:space":"preserve",transform:"matrix(0.26458333,0,0,0.26458333,7.7978929,-36.232756)",id:"text4226-7",style:{"font-size":"28px","line-height":"1.4","font-family":"'Noto Sans'","-inkscape-font-specification":"'Noto Sans'","text-decoration-color":"#000000","text-orientation":"upright","white-space":"pre","shape-inside":"url(#rect4228-7)",display:"inline",fill:"#000000","fill-opacity":"1","stroke-width":"7.55906","stroke-linejoin":"bevel","stop-color":"#000000"}},[o("tspan",{x:"450.70508",y:"890.94369",id:"tspan387"},"1F")],-1),$e=[je,ze],De=o("rect",{style:{fill:"#b3e4e5","fill-opacity":"1",stroke:"#000000","stroke-width":"1","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1","stop-color":"#000000"},id:"rect234-1",width:"23.206858",height:"25.95689",x:"120.27374",y:"210.82976"},null,-1),Fe=o("text",{"xml:space":"preserve",transform:"matrix(0.26458333,0,0,0.26458333,7.7978894,-9.2758522)",id:"text4226-6",style:{"font-size":"28px","line-height":"1.4","font-family":"'Noto Sans'","-inkscape-font-specification":"'Noto Sans'","text-decoration-color":"#000000","text-orientation":"upright","white-space":"pre","shape-inside":"url(#rect4228-6)",display:"inline",fill:"#000000","fill-opacity":"1","stroke-width":"7.55906","stroke-linejoin":"bevel","stop-color":"#000000"}},[o("tspan",{x:"450.70508",y:"890.94369",id:"tspan389"},"1G")],-1),Ie=[De,Fe],Me=o("rect",{style:{fill:"#b3e4e5","fill-opacity":"1",stroke:"#000000","stroke-width":"1","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1","stop-color":"#000000"},id:"rect234",width:"23.206858",height:"25.95689",x:"120.27374",y:"237.78665"},null,-1),Ve=o("text",{"xml:space":"preserve",transform:"matrix(0.26458333,0,0,0.26458333,7.7978913,17.681026)",id:"text4226",style:{"font-size":"28px","line-height":"1.4","font-family":"'Noto Sans'","-inkscape-font-specification":"'Noto Sans'","text-decoration-color":"#000000","text-orientation":"upright","white-space":"pre","shape-inside":"url(#rect4228)",display:"inline",fill:"#000000","fill-opacity":"1","stroke-width":"7.55906","stroke-linejoin":"bevel","stop-color":"#000000"}},[o("tspan",{x:"450.70508",y:"890.94369",id:"tspan391"},"1H")],-1),Be=[Me,Ve],Xe={key:1},Ye={key:2},Ee={__name:"Map",setup(r){ie(e=>({"18c82694":k.value*f.value+"px",d350a4bc:_.value+"px","0df5f31c":w.value+"px","08ab26ee":v.value+"deg"}));const p=a(!1),y=a(""),n=a(1);var h=!1;function s(e){h&&(y.value=e,p.value=!0)}function j(){h=!0}function u(){h=!1}function m(){p.value=!1}const k=a(0);U(()=>{g=window.innerWidth,x=window.innerHeight-getComputedStyle(document.querySelector("*")).getPropertyValue("--header-height").slice(0,-2);const e=Number(document.querySelector("#map_content svg").getAttribute("width").slice(0,-2)),t=Number(document.querySelector("#map_content svg").getAttribute("height").slice(0,-2)),c=e/t;g/e>x/t?k.value=x*c:k.value=g,X()});let g=0,x=0;const _=a(),w=a(),f=a(),v=a();function X(){_.value=g/2,w.value=x/2,f.value=1,v.value=0,m()}function Z(e){e.buttons==1?(_.value+=e.movementX,w.value+=e.movementY):e.buttons==4&&(v.value+=e.movementX/5)}function J(e){e.wheelDelta>0?f.value+=.1:f.value-=.1}let z="",$=0,D=0,F=0,I=0,M=0,b=0,S=0,T=0,N=0,P=0,C=0,V=!1;function Y(e){let t=0,c=0;for(const i of e.changedTouches)t+=i.clientX,c+=i.clientY;return[t/e.changedTouches.length,c/e.changedTouches.length]}function A(e,t){t==="start"?(z="none",M=0,P=0,C=0,V=!1):t==="doing"&&(M!=e.changedTouches.length&&([$,D]=Y(e),M=e.changedTouches.length),[F,I]=Y(e),_.value+=F-$,w.value+=I-D,$=F,D=I,e.changedTouches.length===2&&(z=="zoom"?(S=Math.sqrt((e.changedTouches[0].clientX-e.changedTouches[1].clientX)**2+(e.changedTouches[0].clientY-e.changedTouches[1].clientY)**2),f.value+=(S-b)*.005,P+=Math.abs(S-b),b=S,N=Math.atan2(e.changedTouches[1].clientY-e.changedTouches[0].clientY,e.changedTouches[1].clientX-e.changedTouches[0].clientX)*(180/Math.PI),C+=Math.abs(N-T),C>10&&P<40&&(V=!0),V&&(v.value+=N-T),T=N,console.log(P,C)):(z="zoom",b=Math.sqrt((e.changedTouches[0].clientX-e.changedTouches[1].clientX)**2+(e.changedTouches[0].clientY-e.changedTouches[1].clientY)**2),T=Math.atan2(e.changedTouches[1].clientY-e.changedTouches[0].clientY,e.changedTouches[1].clientX-e.changedTouches[0].clientX)*(180/Math.PI))))}return document.body.addEventListener("touchmove",e=>{e.preventDefault()},{passive:!1}),(e,t)=>{const c=L("sodipodi:namedview");return l(),d(te,null,[p.value?(l(),ee(re,{key:0,Floor:n.value,PlaceId:y.value,onHideProperty:t[0]||(t[0]=i=>m())},null,8,["Floor","PlaceId"])):B("",!0),o("div",{id:"box",onDblclick:t[9]||(t[9]=i=>X()),onMousemove:t[10]||(t[10]=i=>{Z(i),u()}),onMousedown:t[11]||(t[11]=i=>j()),onTouchmove:t[12]||(t[12]=i=>{A(i,"doing"),u()}),onTouchstart:t[13]||(t[13]=i=>{A(i,"start"),j()}),onWheel:t[14]||(t[14]=i=>J(i))},[o("div",ce,[n.value==1?(l(),d("div",de,[(l(),d("svg",pe,[R(c,{id:"namedview7",pagecolor:"#ffffff",bordercolor:"#111111",borderopacity:"1","inkscape:showpageshadow":"0","inkscape:pageopacity":"0","inkscape:pagecheckerboard":"1","inkscape:deskcolor":"#d1d1d1","inkscape:document-units":"mm",showgrid:"false","inkscape:zoom":"0.5","inkscape:cx":"43","inkscape:cy":"639","inkscape:window-width":"1233","inkscape:window-height":"1000","inkscape:window-x":"671","inkscape:window-y":"0","inkscape:window-maximized":"0","inkscape:current-layer":"layer1"}),he,ue,o("g",{"inkscape:groupmode":"layer",id:"layer2","inkscape:label":"1A",onClick:t[1]||(t[1]=i=>s("1A")),class:"1A"},me),o("g",{"inkscape:groupmode":"layer",id:"layer3","inkscape:label":"1B",onClick:t[2]||(t[2]=i=>s("1B")),class:"1B"},xe),o("g",{"inkscape:groupmode":"layer",id:"layer4","inkscape:label":"1C",onClick:t[3]||(t[3]=i=>s("1C")),class:"1C"},ve),o("g",{"inkscape:groupmode":"layer",id:"layer5","inkscape:label":"1D",onClick:t[4]||(t[4]=i=>s("1D")),class:"1D"},Te),o("g",{"inkscape:groupmode":"layer",id:"layer6","inkscape:label":"1E",onClick:t[5]||(t[5]=i=>s("1E")),class:"1E"},Ce),o("g",{"inkscape:groupmode":"layer",id:"layer7","inkscape:label":"1F",onClick:t[6]||(t[6]=i=>s("1F")),class:"1F"},$e),o("g",{"inkscape:groupmode":"layer",id:"layer8","inkscape:label":"1G",onClick:t[7]||(t[7]=i=>s("1G")),class:"1G"},Ie),o("g",{"inkscape:groupmode":"layer",id:"layer9","inkscape:label":"1H",onClick:t[8]||(t[8]=i=>s("1H")),class:"1H"},Be)]))])):n.value==2?(l(),d("div",Xe," 2f ")):n.value==3?(l(),d("div",Ye," 3f ")):B("",!0)])],32)],64)}}};export{Ee as default};
